CREATE KEYSPACE IF NOT EXISTS autocompletedemo
  WITH REPLICATION = {
   'class' : 'SimpleStrategy',
   'replication_factor' : 1
  };

CREATE TABLE IF NOT EXISTS autocompletedemo.query_count (
  query text, count counter,
  PRIMARY KEY (query));

CREATE TYPE IF NOT EXISTS autocompletedemo.PrefixCount(
  suffix text,
  count bigint
);

CREATE TABLE IF NOT EXISTS autocompletedemo.prefix_topk (
  prefix text,
  topK set<frozen<PrefixCount>>,
  PRIMARY KEY (prefix)
);
